#!/bin/bash

# Trusty
VERSION=`cat debian/changelog | head -n 1 | awk '{printf$2}' | awk 'sub("\\\(","")' | awk 'sub("kxstudio","trusty")' | awk 'sub("\\\)","\n")' | head -n 1`
dch --force-distribution -D trusty -v $VERSION "Trusty build"
debuild --no-lintian -S -sa

# Utopic
VERSION=`cat debian/changelog | head -n 1 | awk '{printf$2}' | awk 'sub("\\\(","")' | awk 'sub("trusty","utopic")' | awk 'sub("\\\)","\n")' | head -n 1`
dch --force-distribution -D utopic -v $VERSION "Utopic build"
debuild --no-lintian -S -sa

# Vivid
VERSION=`cat debian/changelog | head -n 1 | awk '{printf$2}' | awk 'sub("\\\(","")' | awk 'sub("utopic","vivid")' | awk 'sub("\\\)","\n")' | head -n 1`
dch --force-distribution -D vivid -v $VERSION "Vivid build"
debuild --no-lintian -S -sa

# Wily
VERSION=`cat debian/changelog | head -n 1 | awk '{printf$2}' | awk 'sub("\\\(","")' | awk 'sub("vivid","wily")' | awk 'sub("\\\)","\n")' | head -n 1`
dch --force-distribution -D wily -v $VERSION "Wily build"
debuild --no-lintian -S -sa
